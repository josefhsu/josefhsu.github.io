<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>成語接龍遊戲</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        #game-container {
            width: 300px;
            text-align: center;
        }
        input, button {
            margin: 10px 0;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>成語接龍</h1>
        <p id="current-idiom">開始遊戲</p>
        <input type="text" id="user-input" placeholder="輸入下一個成語">
        <button onclick="submitIdiom()">提交</button>
        <p id="message"></p>
    </div>

    <script>
		const idioms = [
"一帆風順","順水推舟","舟車勞頓","頓開茅塞","塞翁失馬","馬到成功","功成名就","就事論事","事半功倍","倍道而進","進退維谷","谷馬砲射","射人先射馬","馬革裹屍","屍山血海","海枯石爛","爛若披錦","錦上添花","花團錦簇","簇簇繁花","花好月圓","圓夢成真","真知灼見","見微知著","著作等身","身不由己","己所不欲","欲罷不能","能言善道","道聽途說","說一不二","二話不說","說長道短","短兵相接","接二連三","三生有幸","幸運之神","神出鬼沒","沒齒難忘","忘乎所以","以身作則","則無旁貸","貸款利息","息息相關","關懷備至","至高無上","上行下效","效犬馬力","力挽狂瀾","瀾倒波隨","隨波逐流","流連忘返","返老還童","童言無忌","忌諱莫深","深入淺出","出類拔萃","萃取精華","華而不實","實事求是","是非分明","明哲保身","身臨其境","境由心生","生龍活虎","虎視眈眈","眈眈相向","向隅而泣","泣不成聲","聲勢浩大","大材小用","用兵如神","神乎其技","技術高超","超凡入聖","聖人君子","子虛烏有","有口皆碑","碑堅石穿","穿針引線","線斷風箏","箏聲繞樑","樑上君子","子孫滿堂","堂堂正正","正大光明","明知故犯","犯上作亂","亂七八糟","糟糕透頂","頂天立地","地動山搖","搖旗吶喊","喊冤叫屈","屈打成招","招搖過市","市井無賴","賴皮賴臉","臉紅耳赤","赤地千里","里程碑立","立竿見影","影形不離","離心離德","德高望重","重整旗鼓","鼓舞人心","心悅誠服","服服貼貼","貼心貼肺","肺腑之言","言而有信","信口開河","河清海晏","晏然自若","若即若離","離經叛道","道不拾遺","遺臭萬年","年富力強","強詞奪理","理直氣壯","壯志凌雲","雲消霧散","散兵游勇","勇往直前","前途無量","量入為出","出人頭地","地久天長","長生不老","老馬識途","途徑成章","章台楊柳","柳暗花明","明察秋毫","毫不猶豫","豫備無患","患難與共","共存共榮","榮華富貴","貴人相助","助人為樂","樂不可支","支離破碎","碎琼亂玉","玉石俱焚","焚琴煮鶴","鶴立雞群","群策群力","力爭上游","游刃有餘","餘音繞樑","樑上君子","子孫後代","代代相傳","傳宗接代","代代相繼","繼往開來","來龍去脈","脈脈相通","通情達理","理直氣壯","壯志凌雲","雲霧迷濛","濛濛細雨","雨後春筍","筍廟翠竹","竹報平安","安居樂業","業精於勤","勤勞致富","富貴榮華","華蓋雲集","集思廣益","益壽延年","年深日久","久仰大名","名不虛傳","傳為佳話","話不投機","機不可失","失之交臂","臂有四肢","肢解分離","離經叛道","道不拾遺","遺臭萬年","年輕有為","為非作歹","歹毒惡人","人山人海","海闊天空","空谷幽蘭","蘭桂齊芳","芳草如茵","茵席而臥","臥虎藏龍","龍馬精神","神機妙算","算無遺策","策馬揚鞭","鞭辟入裡","裡應外合","合情合理",
		    // ... 繼續添加更多成語
		];
        let currentIdiom = "";

        function startGame() {
            currentIdiom = idioms[Math.floor(Math.random() * idioms.length)];
            document.getElementById("current-idiom").textContent = currentIdiom;
        }
		function isValidIdiom(idiom) {
		    // 這裡可以添加更複雜的邏輯，比如檢查是否符合成語的語法結構
		    // 或者調用外部 API 進行驗證
		    return idiom.length === 4 && /^[\u4e00-\u9fa5]{4}$/.test(idiom);
		}
        function submitIdiom() {
            const userInput = document.getElementById("user-input").value;
            const message = document.getElementById("message");

            if (userInput.length !== 4) {
                message.textContent = "請輸入四字成語";
                return;
            }

            if (userInput[0] !== currentIdiom[3]) {
                message.textContent = "請輸入以「" + currentIdiom[3] + "」開頭的成語";
                return;
            }
			if (isValidIdiom(userInput)) {
			    if (idioms.includes(userInput)) {
			        // 現有的邏輯
			    } else {
			        message.textContent = "這是一個有效的成語，但不在我們的遊戲列表中。我們會記錄下來！";
			        idioms.push(userInput); // 將新成語添加到列表中
			        currentIdiom = userInput;
			        document.getElementById("current-idiom").textContent = currentIdiom;
			        document.getElementById("user-input").value = "";
			    }
			} else {
			    message.textContent = "這不是一個有效的成語，請重試。";
			}

            if (idioms.includes(userInput)) {
                currentIdiom = userInput;
                document.getElementById("current-idiom").textContent = currentIdiom;
                document.getElementById("user-input").value = "";
                message.textContent = "答對了！請繼續。";
            } else {
                message.textContent = "這個成語不在我們的列表中，請再試一次。";
            }
        }

        startGame();
    </script>
</body>
</html>